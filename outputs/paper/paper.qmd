---
title: "Urban Connectivity Dynamics: Analyzing Free Public WiFi Distribution in Toronto"
subtitle: "By Building Typology, Population, and Socioeconomic Indicators"
author: 
  - Bernice Bao
thanks: "Code and data are available at: <https://github.com/BerniceBao/Free-Public-WiFi-Distribution-in-Toronto>."
date: 15 April 2024
date-format: long
abstract: "In the era of increasing digital dependence, understanding the intricacies of urban internet connectivity is pivotal for fostering an effective and technologically equitable society. Public WiFi is a vital tool in modern society, offering internet access and supporting economic development, education, and social connections. In response to the increasing importance of internet connectivity in contemporary urban life, I investigate the distribution of free public WiFi in Toronto. This paper aims to provide key statistics on the distribution of public WiFi in Toronto and analyze the impact of building types, demographics, and economic influences on its distribution to gain as comprehensive a picture as possible of the role and impact of public WiFi in our lives."
format: pdf
fig-pos: "H"
toc: true
number-sections: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false
#| echo: false

#### Workspace set-up ####
tinytex::install_tinytex(force = TRUE)
library(tidyverse)
library(lubridate)
library(knitr)
library(palmerpenguins)
library(dplyr)
library(here)
library(modelsummary)


#### Read in the data ####
cleaned_ward_data <-
  read_csv(
    file = here("outputs/data/cleaned_ward_data.csv"),
    show_col_types = FALSE
  )

cleaned_wifi_data <-
  read_csv(
    file = here("outputs/data/cleaned_wifi_data.csv"),
    show_col_types = FALSE
  )

final_data <-
  read_csv(
    file = here("outputs/data/final_data.csv"),
    show_col_types = FALSE
  )

building_data <-
  read_csv(
    file = here("outputs/data/building_data.csv"),
    show_col_types = FALSE
  )
```


# Introduction {#sec-intro}

In an era characterized by an ever-deepening reliance on digital technologies, the intricate tapestry of urban internet connectivity is emerging as a pivotal force in the transformation of our societal fabric. Countries globally are acknowledging internet access as an indispensable tool for active participation in contemporary democratic societies. In Canada, the Canadian Radio-television and Telecommunications Commission (CRTC) has recognized that "broadband internet access services are crucial to Canadaâ€™s economic, social, democratic, and cultural fabric."(@citiesfordigitalrights-toronto-wifi) As a university student navigating the complexities of contemporary living, the significance of understanding these dynamics cannot be overstated. We are acutely aware of the transformative potential that connectivity holds.

Public WiFi, often taken for granted in our daily lives, emerges as a vital tool shaping the contours of a technologically inclusive society. It plays a pivotal role in modern society, offering a myriad of benefits to individuals.  Beyond providing a cost-effective alternative to cellular data, it fosters internet accessibility, enabling people to stay connected without constraints.  This flexibility and mobility are particularly advantageous for students, travelers, and those on a budget, allowing them to work, study, or communicate from diverse locations.  Moreover, public WiFi contributes to social inclusion, bridging the digital divide and ensuring that even those without home internet access can engage in online activities.  Access to information, job searching, and remote work opportunities are further facilitated, enhancing the overall quality of life.  In emergencies, public WiFi serves as a crucial communication lifeline, demonstrating its indispensable role in connecting people and providing access to vital services.(@broadbandsearch-public-wifi)                  

Beyond the conveniences of internet access, it serves as a linchpin fostering economic development, facilitating education, and fortifying social connections. The present study, anchored in the evolving landscape of Toronto, endeavors to unravel the mysteries surrounding the distribution of public WiFi. This paper embarks on a compelling exploration of the distribution of free public WiFi in Toronto, recognizing it as not merely a technological amenity but a cornerstone of our modern existence. By examining the impact of various factors, such as building types, demographic patterns, and economic influences, this research seeks to paint a comprehensive portrait of the role and impact of public WiFi in our lives, providing readers with a lens to comprehend the symbiotic relationship between technology and urban living.

This research is divided into three main parts: `Introduction`(@sec-intro), `Data`(@sec-data), `Model` (@sec-model), `Results` (@sec-results), and `Discussion` (@sec-disc). Commencing with the Data section, a meticulous exposition ensues, delineating the origin of datasets garnered from the OpenDataToronto Library and expounding upon the procedural rigors applied for data refinement and analysis. The conclusion part shows what I found during the analysis, while goes deeper into those findings, and finally wraps up the main discoveries from this paper about public free WiFi in Toronto.



# Data {#sec-data}

In this section, I'll explore the R-based data collection process and generate the visualizations in the RStudio environment [@citeR;@citeRStudio]. All the datasets studied in this paper come from "Open Data Toronto" [@citeODT], a data source allowing researchers and policymakers to access and utilize the data which can be downloaded for free from its website and GitHub repository, in order to finish various statistical analyses, research studies, and decision-making processes.  The two main datasets used in this paper are @toronto_wifi_dataset, which provides descriptive data such as the location and building type of Toronto free public wifi, and @toronto_ward_profiles, which contains economic, population and other social information of all 25 wards in Toronto collected in 2021.

The analysis benefits from additional functionalities harnessed from various R packages such as `tidyverse` [@citeTidyverse] installed to gain access to other important R packages, `here` [@citeHere] created a path to specific saved files, `readr` [@citeReadr] read and imported data, `ggplot2` [@citeGgplot2] made the data visualizations, `knitr` [@citeKnitr] and `dplyr` [@citeDplyr] manipulated and cleaned data, and `modelsummary` [@citemodelSummary] to create summary tables. Further insights into the deployment of these packages will be expounded upon in the ensuing subsections.



## First Dataset: Location and description data of Toronto free public WiFi

The data I primarily use to generate visualizations in this article is an open source tool designed to be publicly available and to encourage the development of valuable insights. The dataset[@toronto_wifi_dataset], published by Toronto's Department of Information Technology, collects location information and descriptive data for free public WiFi locations in the City of Toronto and is updated monthly, with the latest update on April 15, 2024. According to the data characteristics described on the portal, these data include address, building type, building name, public name, zip code, whether there is public wifi, owner, ward, ward number, and other geographical information.

Through further systematic analysis, among the statistical data about public wifi, our analysis is particularly interested in building type, ward and ward number, which are very reasonable as the main subject variables that can be used to study the influencing factors of public wifi distribution. Among them, ward and ward number belong to the nature of the distribution of public wifi in Toronto itself, and do not take into account the influencing factors to be explored, but provide a new idea that can be connected with more social information associated with ward to explore more influential factors that can be studied.

Since I only focused on the impact of building type and public wifi layout in Toronto, I kept only the building type, ward, and ward number columns during the data cleaning process in order to quickly extract available data. In addition, I carried out basic data cleaning on column values and deleted building data and NA information that did not contain wifi to improve readability, then summaried the building types and used the able() of knitr to create @tbl-building:


```{r}
#| label: tbl-building
#| tbl-cap: Sample of building type data
#| echo: false

building_data %>%
  head(10) %>%
  kable(
    col.names = c("Building Type", "Number of Free Wifi"),
    digits = 1
  )

```

From @tbl-final, there are 198 free public WiFi location in the City of Toronto in total. Further breakdown shows that there are  100 free public WiFi location that are set in library, 74 free public WiFi location that are set in Community Recreation Centre(CRC), 27 free public WiFi location that are set in Arena, 17 free public WiFi location that are set in Outdoor Pool Building (OPB). Since the same wifi may cover multiple buildings, the sum of the number of public wifi corresponding to each building type is greater than the total number of public wifi in Toronto. The four building types mentioned above have the largest number of public wifi, covering almost 90% of total.

Library has the highest number of free public WiFi, which means that, in comparison to other types of buildings in Toronto, libraries offer the highest availability or coverage of free public WiFi services. This suggests that libraries prioritize or invest in providing accessible and free internet connectivity to the public within Toronto. Besides, Community Recreation Centre has the second most amount of free public WiFi. This information is indicative of the efforts or infrastructure investments made by Toronto goverment to offer accessible and free internet connectivity to the public. 


## Second Dataset: 2021 Ward Profiles based on the 25-Ward model

In addition to building types, I also studied the population and income of each ward in Toronto as another two variables to deeply understand the factors affecting the distribution of public wifi in Toronto. Therefore, the ward profile dataset [@toronto-ward-profiles] published by City Planning based on the 2021 Census data was also included in the analysis. This dataset contains demographic, social and economic information such as income and population for each ward, and last updated on January 3, 2024.

Ward profile data is stored in an Excel file with multiple tabs, and the relevant data used for this analysis is included as a variable in the first TAB, the 2021 Census. Data included population, age, race, language and median household income. Median household income is the pre-tax income a family receives from employment, investment and government support. Median income is used because it is less sensitive to very high and very low income values than the average. 

This research is concerned with the impact of population and income on the distribution of free wifi, so I only choose to analyze these two variables as my research objects, and created statistic to visualize the data. we were able to get initial valid information but still need more clarity for further data analysis, so I established a new variable, "number of free wifi", to quantify the performance of free wifi in different building types. Then I used kable() from knitr to get @tbl-final:

```{r}
#| label: tbl-final
#| tbl-cap: Sample of final ward data
#| echo: false

final_data %>%
  head(10) %>%
  kable(
    col.names = c("Population", "Income", "Ward Number", "Number of Free Wifi"),
    digits = 1
  )

```

From @tbl-final, there are 25 wards in total in the City of Toronto, and the wards with the highest population are: Etobicoke-Lakeshore (Ward 3) at 139920, Spadina-Fort York (Ward 10) at 135400. The wards with the lowest population are: Scarborough North (Ward 23) at 94025, Don Valley East (Ward 16) at 94335. The wards with the highest household income are: Spadina-Fort York (Ward 10) at $80730$, Toronto Centre (Ward 13) at $68965$. The wards with the lowest household income are: Humber River-Black Creek (Ward 7) at $65,458$, York South-Weston (Ward 5) at $67,964$.

It intuitively shows the social developments of 25 neighbourhoods in Toronto, including population, median income, and number of wifi, providing data support for the following study of the linear relationship between the three. It is important to note that, according to the database, more populated neighborhoods do not necessarily have more median income, which laid the foundation for our decision to separate the two variables to analyze the impact of public wifi distribution.

```{r}
#| label: fig-interest
#| fig-cap: The number of free Wifi available in different wards in Toronto
#| echo: false
#| warning: false

library(tidyverse)

final_data |> ggplot(aes(x = WardNumber, y = Number_of_free_wifi)) +
  geom_col() +
  theme(axis.text.x = element_text(angle = 45, vjust = 0.9, hjust=1)) +
  labs(
    title = "The number of free Wifi available in different wards in Toronto",
    x = "Ward Number",
    y = "Number of Free Public Wifi"
  ) 
```
@fig-interest shows the data visualization shows that the ward1, 3, and 7 have significantly more than the median number of public wifi, 12, 13, and 14 respectively, which is more than 1/3 times more than the average of 8. From this graph, we can observe that except for the ward 1, 3 and 7, the number of public wifi in other wards is basically in the same range, and there is no particularly serious shortage. This indicates that the level of public Internet accessibility strength is generally consistent across wards in Toronto.

# Model {#sec-model}


```{r}
#| include: false

# IMPORT MODEL FROM OUTPUTS FOLDER
wifi_model <- readRDS(here::here("outputs/models/wifi_model.rds"))
population_model <- readRDS(here::here("outputs/models/population_model.rds"))
income_model <- readRDS(here::here("outputs/models/income_model.rds"))

```

The goal of my modelling strategy is twofold. Firstly, I want to analyze to what effect power play opportunities, power play effectiveness, save percentage, goals against average and shooting percentages all have on average goals scored per game. Secondly, I want to use these results to predict the average goals scored per game for the next season.

In the section below, the Bayesian analysis model used to investigate the multiple linear regression model of average goals scored per game is detailed.

## Model set-up

Define $y_i$ as the leaguewide average goals scored per game. Then $\beta_1$ is the leaguewide average power plays per game, $\gamma_1$ is leaguewide powerplay percentage, $\theta_1$ is leaguewide save percentage, $\phi_1$ is the leaguewide goals against average, and $\kappa_1$ is the leaguewide average shooting percentage.

\begin{align} 
y_i|\mu_i, \sigma &\sim \mbox{Normal}(\mu_i, \sigma) \\
\mu_i &= \alpha + \theta_i + \phi_i + \kappa_i + \beta_i * \gamma_i \\
\alpha &\sim \mbox{Normal}(0, 2.5) \\
\beta &\sim \mbox{Normal}(0, 2.5) \\
\gamma &\sim \mbox{Normal}(0, 2.5) \\
\theta &\sim \mbox{Normal}(0, 2.5) \\
\phi &\sim \mbox{Normal}(0, 2.5) \\
\kappa &\sim \mbox{Normal}(0, 2.5) \\
\sigma &\sim \mbox{Exponential}(1)
\end{align}

We run the model in `R` [@citeR] using the `rstanarm` package of [@citestan]. We use the default priors from `rstanarm`.

## Model justification

We expect a positive relationship between average goals scored per game and power play opportunities, power play percentage, goals against average, and shooting percentage. The higher those four variables are, the more goals there should be. In particular, there should also be a negative relationship between goals scored and save percentage. With a lower save percentage, there are less saves that are occuring which means there should be more goals. Additionally, the two power play variables are interacted with eachother, since they are directly related to one another. There cannot be a power play percentage without a power play opportunity.



# Results {#sec-results}

## Building Type

**Societal need for public Wi-Fi differs according to building types**

While I talked about the increase of the amount of productive forwards and defensemen, here I will discuss the increase in the amount of good forwards and compare them to the amount of elite forwards. To be classified as an elite forward, usually they would need to finish the season at around a 1.4 PPG pace. Because of how hard of a feat it is to achieve a sustained 1.4 PPG pace, there are very few elite forwards in the NHL. @fig-building shows the amount of forwards that finish in multiple PPG ranges.

```{r}
#| label: fig-building
#| fig-cap: The number of free Wifi in Toronto by building type
#| echo: false
#| warning: false

library(tidyverse)

building_data |> 
  ggplot(aes(x = BuildingType, y = Number_of_free_wifi)) +
  geom_col() +
  theme(axis.text.x = element_text(angle = 90, hjust=1)) +
  labs(
    x = "Building Types",
    y = "Number of Free Public Wifi"
  ) 

```

Library has the highest number of free public WiFi, which means that, in comparison to other types of buildings in Toronto, libraries offer the highest availability or coverage of free public WiFi services. This suggests that libraries prioritize or invest in providing accessible and free internet connectivity to the public within Toronto. Besides, Community Recreation Centre has the second most amount of free public WiFi. This information is indicative of the efforts or infrastructure investments made by Community Recreation Centres to offer accessible and free internet connectivity to the public. 

The type of building can often reflect the different needs of modern people for WiFi, and having more public WiFi coverage proves that it has a stronger degree of Internet digitization needs. 

For example, libraries have embraced technology, expanding their offerings beyond books to include a rich array of digital resources. Public WiFi is now a vital tool for students, researchers, and casual readers, facilitating access to online databases, ebooks, and collaborative group projects. Moreover, Community Recreation Centre have transformed into dynamic digital hubs, serving as venues for social gatherings and work. Here, individuals can check emails, work remotely, and stay informed about current events, all while enjoying a cup of coffee.



## Population

**Higher population density correlates with increased distribution of free public WiFi**

```{r}
#| label: fig-1
#| fig-cap: Linear regression model of the number of Free public wifi by the populations of all wards in Toronto.
#| echo: false
#| warning: false

population_model |>
  ggplot(aes(x = Population, y = Number_of_free_wifi)) +
  geom_point(alpha = 0.5) +
  geom_smooth(
    method = "lm",
    se = TRUE,
    color = "black",
    linetype = "dashed",
    formula = "y ~ x"
  ) +
  labs(
    x = "Population of a Ward",
    y = "Number of Free Wifi in a ward"
  ) +
  theme_classic()

```
The first linear regression model, as illustrated in @fig-1, explores the relationship between the number of free public WiFi locations and the population of wards across Toronto. The scatterplot depicts the general trend of increased number of public wifi as bigger population, further emphasized by the regression line. The model indicates that as the population of a ward gets bigger, the number of free public wifi increases as well. 

However, the coefficient for population (0.00) indicates that there is no statistically significant linear relationship between the population of a ward and the number of free public WiFi locations it hosts, as the coefficient's p-value exceeds conventional thresholds for significance. This finding suggests that the population size alone may not be a strong predictor of the availability of free public WiFi in Toronto's wards. The model's low R-squared value of 0.045 and adjusted R-squared value of 0.003 indicate that only a very small proportion of the variability in the number of free public WiFi locations can be explained by the population size of the wards. The model's RMSE (Root Mean Square Error) of 2.26 suggests that the model's predictions deviate from the actual values by an average of 2.26 free public WiFi locations.

In summary, while the model attempts to assess the relationship between population and the availability of free public WiFi, its findings indicate that population alone is not a strong predictor of the number of free public WiFi locations in Toronto's wards.


From @fig-1, we can clearly see that Etobicoke-Lakeshore (Ward 3) has the greatest population, and Spadina-Fort York (Ward 10) has the second greatest population.

```{r}
#| echo: false
#| warning: false
#| label: tbl-model1
#| tbl-cap: "A summary table of the first linear regression model"

modelsummary::modelsummary(
  list("Population of a Ward" = population_model),
  fmt = 2
)
```

@tbl-model1 displays the coefficients of the predictor variables of the linear regression model. All the variables included in the model have p-values less than 0.05, indicating that they have a significant impact on the permanent immigrant inflows rate. Therefore, all the variables are retained in the final model. For every 1% increase in the Employment Rate, there is a 0.04% increase in the Permanent Inflows Rate. The relationship between Employment Rate and Permanent Inflows Rate is positive, which means that as the Employment Rate increases, the Permanent Inflows Rate also tends to increase. The slope coefficient of 0.04 indicates that for every 1% increase in the Employment Rate, we can expect a 0.04% increase in the Permanent Inflows Rate, all else being equal. As the "Year" variable increases by 1, the estimated permanent immigrant inflow increases by 0.04% on average, holding other predictor variables constant. However, it is important to note that this is a correlation and does not necessarily imply causation. Other factors, such as government policies and global economic conditions, may also have an impact on Permanent Inflows Rate.


In fact, this is similar to the distribution of free public WiFi in Toronto, but it does not exactly match. Ward 3, as the most populous area, has 13 public WiFi, which is a relatively large number in all Wards, and Ward 10 has 5, which is an insignificant number. But overall, for different Wards, a higher population slightly results in a higher amount of public WiFi.

## Income

**Income levels have limited influence on availability of free public Wi-Fi**


```{r}
#| label: fig-2
#| fig-cap: Linear regression model of the number of Free public wifi by the Average Income of all wards in Toronto.
#| echo: false
#| warning: false

income_model |>
  ggplot(aes(x = Income, y = Number_of_free_wifi)) +
  geom_point(alpha = 0.5) +
  geom_smooth(
    method = "lm",
    se = TRUE,
    color = "black",
    linetype = "dashed",
    formula = "y ~ x"
  ) +
  labs(
    x = "Average Income of a Ward",
    y = "Number of Free Wifi in a ward"
  ) +
  theme_classic()

```
From @fig-2, we can clearly see that Spadina-Fort York (Ward 10) has the greatest average income, Toronto Centre (Ward 13) has the second greatest average income, and Etobicoke-Lakeshore (Ward 3) has the third greatest average income.

```{r}
#| echo: false
#| warning: false
#| label: tbl-model2
#| tbl-cap: "A summary table of the second linear regression model"

modelsummary::modelsummary(
  list("Average Income of a Ward" = income_model),
  fmt = 2
)
```

@tbl-model2 displays the coefficients of the predictor variables of the linear regression model. All the variables included in the model have p-values less than 0.05, indicating that they have a significant impact on the permanent immigrant inflows rate. Therefore, all the variables are retained in the final model. For every 1% increase in the Employment Rate, there is a 0.04% increase in the Permanent Inflows Rate. The relationship between Employment Rate and Permanent Inflows Rate is positive, which means that as the Employment Rate increases, the Permanent Inflows Rate also tends to increase. The slope coefficient of 0.04 indicates that for every 1% increase in the Employment Rate, we can expect a 0.04% increase in the Permanent Inflows Rate, all else being equal. As the "Year" variable increases by 1, the estimated permanent immigrant inflow increases by 0.04% on average, holding other predictor variables constant. However, it is important to note that this is a correlation and does not necessarily imply causation. Other factors, such as government policies and global economic conditions, may also have an impact on Permanent Inflows Rate.

We can conclude that there is no observable correlation between the number of Toronto public WiFi and the average household income in a ward.


\newpage

# Discussion {#sec-disc}


All in all, a significant number of people are increasingly relying on public Wi-Fi when they're out and about, underscoring their need for instant, hassle-free connectivity. Whether for work, social interaction or navigation, the modern lifestyle requires a seamless Internet experience, and the increasing number of academic and recreational projects joining the ranks of the application of public free WiFi is undoubtedly a strong support for the development of public WiFi in Toronto.

Furthermore, our data analysis indicates that while population size does exert a modest impact on the dissemination of free WiFi, the average income of a region lacks sufficient influence to be regarded as a determining factor in the allocation of public WiFi.



# Appendix 
\newpage

# References
